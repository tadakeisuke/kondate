# 献立エージェント使用ガイド

## 概要

このリポジトリは、AI献立エージェントが家族の食事を最適化するための Single Source of Truth (SSoT) として機能します。

## AIエージェントの活用シナリオ

### 1. 今日の献立提案

**入力情報**:
- 現在の冷蔵庫在庫 (`data/inventory/`)
- 家族の好み (`data/family/members.yaml`)
- 最近の献立履歴 (`data/history/`)
- 今日の曜日とスーパーの特売情報 (`data/shops/`)

**AIの提案**:
```
今日は木曜日です。以下の献立を提案します:

【夕食の献立】
- メイン: 鶏もも肉の照り焼き
- 副菜: キャベツとにんじんの千切りサラダ
- 汁物: 味噌汁（玉ねぎ、豆腐）
- 主食: ご飯

【理由】
- 鶏もも肉の賞味期限が明日なので優先的に使用
- 先週の金曜日以来、鶏料理を出していない
- 子供たちが好きな照り焼き味
- キャベツも賞味期限が近い
- 野菜を多めに摂取できる構成
```

### 2. 買い物リスト生成

**入力情報**:
- 在庫状況
- 向こう3日間の献立案
- スーパーの特売情報

**AIの提案**:
```
【明日の買い物リスト - スーパーA】
明日は金曜日で魚の特売日です。

必須:
□ 豚バラ肉 300g （土曜日の生姜焼き用、賞味期限が近い在庫なし）
□ 鮭 2切れ （金曜日の夕食用、特売）
□ トマト 3個 （在庫なし、子供の長女が好き）
□ ブロッコリー 1株 （在庫なし、長女が好き）
□ 卵 1パック （残り3個、週末用に補充）

推奨:
□ マヨネーズ （在庫「少ない」状態）
□ そうめん （在庫が少ない、夏場の常備品）

予算: 約1,200円
```

### 3. 週間献立プランニング

**入力情報**:
- 家族のスケジュール
- 在庫状況
- 栄養バランスの目標
- 過去の履歴

**AIの提案**:
```
【来週の献立プラン】

月曜日: 麻婆豆腐（簡単、平日向け）
火曜日: 鮭のホイル焼き（野菜たっぷり、ヘルシー）
水曜日: カレーライス（人気メニュー、作り置き）
木曜日: カレーリメイク（カレーうどん）
金曜日: ハンバーグ（子供が喜ぶ）
土曜日: 手巻き寿司（休日、家族で楽しむ）
日曜日: すき焼き（週末の特別メニュー）

【バランス】
- 和食: 4回、洋食: 2回、中華: 1回
- 豚肉: 1回、鶏肉: 0回、牛肉: 1回、魚: 2回、その他: 3回
- 簡単レシピ: 平日5日
- 手間のかかるレシピ: 休日2日
```

### 4. 食材使い切り提案

**入力情報**:
- 賞味期限が近い食材リスト

**AIの提案**:
```
【賞味期限アラート】

緊急（明日まで）:
- 鶏もも肉 250g → 「鶏の照り焼き」または「親子丼」を推奨

注意（3日以内）:
- キャベツ 0.5玉 → 「野菜炒め」「お好み焼き」「コールスロー」
- 豚バラ肉 300g → 「豚の生姜焼き」「野菜炒め」

【使い切りレシピ】
これらを組み合わせた献立案:
- 今日: 鶏の照り焼き + キャベツサラダ
- 明日: 豚の生姜焼き + キャベツの味噌汁
```

## データメンテナンス

### 日次タスク

1. **夕食後**: その日の献立と家族の反応を `data/history/` に記録
2. **買い物後**: 購入した食材を `data/inventory/` に追加
3. **調理時**: 使用した食材を `data/inventory/` から減算

### 週次タスク

1. **週末**: 週次サマリーを `data/history/` に追加
2. **賞味期限チェック**: 在庫の賞味期限を確認し、来週の献立に反映

### 月次タスク

1. **月初**: 前月の履歴を確認
2. **傾向分析**: よく作った料理、家族の好みの変化を確認
3. **レシピ更新**: 新しく試して好評だったレシピを `data/recipes/` に追加

## AIへの質問例

### 献立相談
```
「今日の夕飯、何がいいかな？ 平日だから30分以内で作れるものがいい」
「週末なので少し手の込んだ料理に挑戦したい」
「子供たちが喜ぶ献立を提案して」
```

### 買い物相談
```
「明日はどこのスーパーで何を買うべき?」
「今週の買い物リストを作って」
「予算1000円以内で今日の夕飯の材料を買いたい」
```

### 在庫管理
```
「賞味期限が近い食材は?」
「冷蔵庫の中身で作れる料理を教えて」
「買い足すべき調味料は?」
```

### 栄養・健康相談
```
「最近、野菜が足りていない気がする」
「今週は魚料理が少なかったから増やしたい」
「父の塩分を控えめにしたメニューを」
```

## データファイルの関連図

```
[data/inventory/]  ─┐
                    ├─→ [AI献立エージェント] ─→ 献立提案
[data/family/]     ─┤                         ─→ 買い物リスト
                    ├─→                       ─→ 栄養分析
[data/history/]    ─┤
                    │
[data/recipes/]    ─┤
                    │
[data/shops/]      ─┘
```

## ベストプラクティス

1. **正確なデータ**: 在庫データは正確に保つ（AIの提案精度に直結）
2. **率直な評価**: 家族の反応を正直に記録（好みの学習に重要）
3. **定期更新**: 少なくとも週1回はデータを見直す
4. **柔軟性**: AIの提案を参考にしつつ、実際の状況に応じて調整
5. **継続性**: 長期間データを蓄積することで、AIの提案精度が向上

## トラブルシューティング

### AIの提案が家族の好みと合わない
→ `data/family/members.yaml` の好み情報を見直して更新

### 在庫があるのに「不足」と言われる
→ `data/inventory/` の数量・単位が正確か確認

### 同じような献立ばかり提案される
→ `data/history/` を確認し、バリエーションを増やすよう明示的に依頼

### 予算オーバーする
→ `data/family/members.yaml` の `budget_per_meal` を見直し、または安いスーパーを活用
